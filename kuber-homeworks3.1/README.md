Домашнее задание к занятию «Компоненты Kubernetes» Вахрамеев А.В.

Расчет общего количества ресурсов необходимых для проекта.

1. **База данных**:
   - 4 ГБ ОЗУ на каждую из 3 копий = 12 ГБ
   - 1 ядро процессора на каждую копию
2. **Система кеширования**:
   - 4 ГБ ОЗУ на каждую из 3 копий = 12 ГБ
   - 1 ядро процессора на каждую копию
3. **Фронтенд**:
   - 50 МБ ОЗУ на экземпляр, умноженное на 5 копий = 250 МБ
   - 0.2 ядра процессора на экземпляр, умноженное на 5 копий = 1 ядро
4. **Бекенд**:
   - 600 МБ ОЗУ на каждую из 10 копий = 6000 МБ или 6 ГБ
   - 1 ядро процессора на каждую копию

Общие требования к ресурсам:

- ОЗУ: 12 ГБ + 12 ГБ + 0.25 ГБ + 6 ГБ = 30.25 ГБ
- Ядра процессора: 3 + 3 + 1 + 10 = 17 ядер

Количество рабочих нод:

Для базы данных и кеширования, так как они требуют отказоустойчивости, мы будем использовать репликацию данных. 

Для обеспечения работоспособности в случае выхода из строя одной ноды, нам понадобится минимум две рабочие ноды на каждый сервис (базу данных и кеш). Таким образом, нам потребуется по 2 ноды для базы данных и кеширования.

Для фронтенда и бекенда, где каждая копия несет свою нагрузку, мы можем рассчитать количество нод исходя из общей нагрузки на каждую ноду, а затем учесть запасную ноду.

Предположим, что каждая нода может обрабатывать полную нагрузку, и добавим одну запасную ноду для обеспечения отказоустойчивости.

Итак, общее количество нод:

- База данных: 2 ноды
- Кеш: 2 ноды
- Фронтенд: 5 нод + 1 запасная нода
- Бекенд: 10 нод + 1 запасная нода

Теперь добавим служебные ресурсы к нодам:

- База данных и кеш: Добавим по 1 ГБ ОЗУ и 0.5 ядра процессора на каждую ноду.
- Фронтенд: Добавим 0.5 ГБ ОЗУ и 0.1 ядра процессора на каждую ноду.
- Бекенд: Добавим 0.5 ГБ ОЗУ и 0.5 ядра процессора на каждую ноду.

Таким образом, итоговые параметры нод:

- **База данных**: 2 ноды, каждая с 13 ГБ ОЗУ и 1.5 ядра процессора
- **Кеш**: 2 ноды, каждая с 13 ГБ ОЗУ и 1.5 ядра процессора
- **Фронтенд**: 6 нод (5 рабочих + 1 запасная), каждая с 0.75 ГБ ОЗУ и 0.3 ядра процессора
- **Бекенд**: 11 нод (10 рабочих + 1 запасная), каждая с 6.5 ГБ ОЗУ и 5.5 ядрами процессора
  
